--Intro to LAN--

Topologies:
Star - devices connect to central network device like switch/hub
  Reliable and scalable
  Most expensive

Bus - Backbone cable used for traffic between all devices
  Easier and cost-efficient
  Little redundancy/single point of failure, prone to bottlenecking

Ring (Token) - Devices directly connect to each other to form a loop, sending data across loop until it reaches destination
  Devices will send their own data before sending received data
  Little cabling and less dependence on dedicated hardware
  Less prone to bottle necks
  Little redundnacy - one cable cut/device failure brings whole network down

Primer on subnetting:
Subnetting - splitting network inot smaller, miniature networks within itself
  Achieved by splitting up number of hosts that can fit within the network, represented by SUBNET MASK

Subnets use IP addresses in 3 different ways:
ID the NETWORK ADDRESS - address IDs the start of the actual network and is used to identify a networks existence
ID the HOST ADDRESS - An IP address here is used to identify a device on the subnet
ID the DEFAULT GATEWAY - a special address assigned ot a device on the network capable of sending info to another network

ARP:
Address Resolution Protocol - allows devices to identify themselves on a network by associating its MAC with IP address

When devices communicate to each other, they will send abroadcast to entire network searching for specific device via ARP for MAC address.

ARP cache- stores identifiers of other devices on network

ARP Request - broadcasted message asks what MAC owns this IP?
ARP Reply - device that owns the requested IP responds with its MAC address

DHCP:
Dynamic Host Configuration Protocol
When a device connects to a network, if it doesn't have a manually assigned IP, it uses DORA:
DHCP DISCOVER - request to find DHCP server
DHCP OFFER - DHCP server replies with a usable IP
DHCP REQUEST - Device confirms it wants the usable IP
DHCP ACK - DHCP server send reply ACKnowledging it has been completed, and device can start using the IP

--OSI MODEL--
Open Systems Interconnection Model - 7 layer framework dictating how networked devices send/receive/interpret data

Encapsulation - pieces of info get added to data

1) Physical
Physical componenets of hardware used in networking.
Devices use electrical signals to transfer data betwwen each other in binary

2) Data Link
Focuses on physical addressing of transmission.
Received packet from network layer (including IP) and adds in the physical MAC address of the receiving endpoint.
Inside every network-enabled computer there is a NIC which comes with a unique MAC
Presents data in a format suitable for transmission

3) Network
Routing determines optimal path for data
OSPF - Open Shortest Path First
RIP - Routing Information Protocol
Factors that device the taken route:
  What path has least hops (shortest distance)
  What path is most reliable (have packets been lost on this path before)
  Which path has faster physical connection
Everything is dealt with via IP address.

4) Transport
Data uses TCP or UDP protocols to send.
TCP - Transmission Control Protocol
Pros:
  Guarantees accuracy of data
  Capable of synchronizing 2 devices to prevent each other from being flooded with data
  Performs a lot more processes for reliability
Cons:
  Requires reliable connection between devices.
  Slow connection can bottleneck another device since connection is reserved on receiving device the whole time
  Significaly slower than UDP

UDP - User Datagram Protocol
Pros:
  Much faster
  UDP leaves application layer (user software) to decide if there is any control over how quickly packets are sent
  UDP does not reserve continuous connection
Cons:
  UDP doesn't care if data is received
  It is quite flexible to software developers
  Unstable connections result in terrible user experience

5) Session
Creates and maintains connection to other destination computer. When connection is established, a session is created.
Session layer also closes connection.
A session can contain "checkpoints" where if the data is lost, only the newest pieces of data are required to be sent, saving bandwidth.

6) Presentation
Translates data to and from Application layer (7). 
Security features such as data encryption (like HTTPS) occur at this layer

7) Application
Layer in which protocols and rules are in place to determine how the user should interact with data sent/received
GUIs are used to interact with.
DNS is at this layer?


---Packets and Frames---

Packet - L3 (Network) data containing info like IP header and payload (contents)
Frame - L2 (Data Link) data encapsulates the packet and adds additional info like MAC (envelope)

This process is encapsulation. When encapsulating info is stirpped away, we're talking about the frame.

Because data is exchanged in small pieces, there's less chance of bottlenecking

Notable IP packet headers:
  TTL - expiry timer for packet to not clog up network if it never reaches host/escapes
  Checksum - integrity checking for protocols like TCP/IP. If any data changes, this value changes from what is expected and therefore corrupt
  Source Address - IP address of device SENDING packet so that data knows where to RETURN TO
  Destination Address - devices IP the packet is being SENT TO so data knows where to travel next

--TCP/IP (3 way handshake)--
Consists of 4 layers:
  Application
  Transport
  Internet
  Network Interface

Info is added to each layer of the TCP model as the packet traverses it. (ENCAPSULATION)
Info taken away is DECAPSULATION

TCP is CONNECTION-BASED, which means TCP much establlish connection before data is sent
This gaurantees any data sent will be received.
Pros:
  Guarantees integrity of data
  Capable of syncing 2 devices to prevent each other from being flooded with data in wrong order
  Performs a lot more processes for reliablity
Cons:
  Requires reliable connection. If one small chunk of data is not received, then the entire chunk cannot be used and must be re-sent
  Slow connection can bottleneck another device since connection is reserved the whole time
  TCP is significantly slower than UDP because more computing is done.

Crucial TCP headers:
  Source Port - this value is the port opened by the sender to send the TCP packet FROM. (randomly chosen value)
  Destination Port - Port number that an app or service is running on the receiving host. (not random)
  Source IP - IP of sender
  Destination IP - IP of receiver
  Sequence number - when connection occurs, the first piece of data transmitted is given a random number
  ACKnowledgement number - After given a sequence number, next piece of data will have sequence number +1.
  Checksum - TCP integrity. Calculation is made where the output is remembered. When receiving device performs the calculation, the data must be corrupt if output is different than what was sent.
  Data - stored data (i.e. bytes of a file)
  Flag - header determines how the packet should be handled during handshake.

--3 WAY HANDSHAKE--
  1) SYN - initial packet sent by client to initiaite connection
  2) SYN/ACK - packet sent by receiving device (server) to acknowledge connection attempt
  3) ACK - packet can be used by client or server to acknowledge that a series of messages/packets have been successfully received

  4) DATA - Once connected, data (such as file bytes) is sent via the DATA message
  5) FIN - Properly closes connection
  6) RST - packet abruptly ends all communication. last resort and indicates a problem in the process.

Best practice to close TCP connections ASAP.
To initiate closure of TCP connection, device sends FIN packet to other deivce, which the other device has to acknowledge the packet
FIN > ACK
FIN < ACK

--UDP/IP--
User Datagram Protocol - stateless protocol that doesn't reqiure constant connection

Pros:
  Much faster than TCP
  UDP leaves the app (software) to decide if there is any control over how quickly packets are sent
  UDP does not reserve a continuous connection

Cons:
  UDP doesn't care if data is received or not
  It is quite flexible to software developers
  This means unstable connections result in terrible user experience

UDP Packet Headers:
  TTL
  Source Address
  Destination Address
  Source Port
  Destination Port
  Data

Bob REQUEST > Alice
Alice RESPONSE > Bob

--PORTS 101--
Any port between 0-1024 is a common port.

FTP - 21 - File sharing app built on client-server model
Secure Shell SSH - 22 - Secure login to systems via text-based interface for management
HyperText Transfer Protocol HTTP - 80 - Browser uses this to download text/images/videos of web pages
HyperText Transfer Protocol Secure HTTPS - 443 - Does this^ securely with encryption
Server Message Block SMB - 445 - similar to FTP, allows share of devices like printers
Remote Desktop Protocol RDP - 3389 - Secure means of logging into system using visual desktop interface

These protocols only follow the standards. I.E. you can administer apps that interact with these protocols ona  different port other than what is the stnadard (web server on 8080 instead of the 80 standard port)
Apps will presume that the standard is being followed, so you wll have to provide a COLON (:) along with the port number.
